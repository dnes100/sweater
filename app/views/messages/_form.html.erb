<div class="border-t border-gray-700 p-3">
  <%= form_with model: current_user.messages.new(recipient: collocutor),
    data: { controller: 'reset-form', action: 'turbo:submit-end->reset-form#reset' },
    html: { autocomplete: 'off' } do |form|
  %>

    <div class="flex items-center">
      <!--
        focus-within: pseudo class which matches if any children is focused.
        For div, focus doesn't work but focus-within works if it has focusable input fields.
      -->
      <div class="flex flex-1 items-center border border-sky-500 rounded-full px-4 py-1 focus-within:ring-2">
        <%=
          form.text_field :content,
            placeholder: "Start a new message",
            class: "bg-black border-none focus:ring-0 w-full"
        %>
        <%= form.hidden_field :recipient_id, value: collocutor.id %>
        <%# <i class="fa fa-smile"></i> %>
      </div>
      <button type="submit">
        <i class="fa fa-paper-plane ml-3 text-sky-500"></i>
      </button>
    </div>
  <% end %>
</div>
