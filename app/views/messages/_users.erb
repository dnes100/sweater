<div class="w-full">
  <div class="p-3 border-b border-gray-700">
    <span class="font-bold text-lg">Messages</span>

    <div class="flex items-center mt-4">
      <%= form_with url: search_messages_path, data: { controller: 'form-submission' } do |form| %>
        <!--
          focus-within: pseudo class which matches if any children is focused.
          For div, focus doesn't work but focus-within works if it has focusable input fields.
        -->
        <div class="flex items-center bg-gray-800 rounded-full px-4 py-1 focus-within:ring-2">
          <i class="fa fa-search"></i>
          <%=
            form.text_field :query,
              placeholder: "Search Twitter",
              class: "bg-gray-800 border-none focus:ring-0 w-full",
              data: { action: "input->form-submission#search" }
          %>
        </div>
      <% end %>
    </div>

  </div>

  <%= render 'messages/search_results' %>

</div>
